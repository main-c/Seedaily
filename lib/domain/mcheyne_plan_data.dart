import 'models.dart';

/// Plan de lecture M'Cheyne - 365 jours, 4 passages par jour
/// Basé sur le plan original de Robert Murray M'Cheyne

class McheyneDayDefinition {
  McheyneDayDefinition({
    required this.dayIndex,
    required this.passages,
  });

  final int dayIndex; // 0-based
  final List<Passage> passages;
}

/// Parse une référence biblique comme "Genèse 1", "Genèse 9-10"
Passage? _parseReference(String ref) {
  // Trouver où commence le numéro de chapitre
  final match = RegExp(r'^(.+?)\s+(\d.*)$').firstMatch(ref);
  if (match == null) return null;

  final bookName = match.group(1)!;
  final chapterPart = match.group(2)!;

  int fromChapter;
  int toChapter;

  if (chapterPart.contains('-')) {
    // Plage de chapitres: "9-10"
    final parts = chapterPart.split('-');
    fromChapter = int.parse(parts[0]);
    toChapter = int.parse(parts[1]);
  } else {
    // Chapitre unique: "1"
    fromChapter = int.parse(chapterPart);
    toChapter = fromChapter;
  }

  return Passage(
    book: bookName,
    fromChapter: fromChapter,
    toChapter: toChapter,
  );
}

/// Les 365 jours du plan M'Cheyne - données en français
/// Format: [passage1, passage2, passage3, passage4] pour chaque jour
const List<List<String>> _mcheyneRawData = [
  ["Genèse 1", "Matthieu 1", "Esdras 1", "Actes 1"],
  ["Genèse 2", "Matthieu 2", "Esdras 2", "Actes 2"],
  ["Genèse 3", "Matthieu 3", "Esdras 3", "Actes 3"],
  ["Genèse 4", "Matthieu 4", "Esdras 4", "Actes 4"],
  ["Genèse 5", "Matthieu 5", "Esdras 5", "Actes 5"],
  ["Genèse 6", "Matthieu 6", "Esdras 6", "Actes 6"],
  ["Genèse 7", "Matthieu 7", "Esdras 7", "Actes 7"],
  ["Genèse 8", "Matthieu 8", "Esdras 8", "Actes 8"],
  ["Genèse 9-10", "Matthieu 9", "Esdras 9", "Actes 9"],
  ["Genèse 11", "Matthieu 10", "Esdras 10", "Actes 10"],
  ["Genèse 12", "Matthieu 11", "Néhémie 1", "Actes 11"],
  ["Genèse 13", "Matthieu 12", "Néhémie 2", "Actes 12"],
  ["Genèse 14", "Matthieu 13", "Néhémie 3", "Actes 13"],
  ["Genèse 15", "Matthieu 14", "Néhémie 4", "Actes 14"],
  ["Genèse 16", "Matthieu 15", "Néhémie 5", "Actes 15"],
  ["Genèse 17", "Matthieu 16", "Néhémie 6", "Actes 16"],
  ["Genèse 18", "Matthieu 17", "Néhémie 7", "Actes 17"],
  ["Genèse 19", "Matthieu 18", "Néhémie 8", "Actes 18"],
  ["Genèse 20", "Matthieu 19", "Néhémie 9", "Actes 19"],
  ["Genèse 21", "Matthieu 20", "Néhémie 10", "Actes 20"],
  ["Genèse 22", "Matthieu 21", "Néhémie 11", "Actes 21"],
  ["Genèse 23", "Matthieu 22", "Néhémie 12", "Actes 22"],
  ["Genèse 24", "Matthieu 23", "Néhémie 13", "Actes 23"],
  ["Genèse 25", "Matthieu 24", "Esther 1", "Actes 24"],
  ["Genèse 26", "Matthieu 25", "Esther 2", "Actes 25"],
  ["Genèse 27", "Matthieu 26", "Esther 3", "Actes 26"],
  ["Genèse 28", "Matthieu 27", "Esther 4", "Actes 27"],
  ["Genèse 29", "Matthieu 28", "Esther 5", "Actes 28"],
  ["Genèse 30", "Marc 1", "Esther 6", "Romains 1"],
  ["Genèse 31", "Marc 2", "Esther 7", "Romains 2"],
  ["Genèse 32", "Marc 3", "Esther 8", "Romains 3"],
  ["Genèse 33", "Marc 4", "Esther 9-10", "Romains 4"],
  ["Genèse 34", "Marc 5", "Job 1", "Romains 5"],
  ["Genèse 35-36", "Marc 6", "Job 2", "Romains 6"],
  ["Genèse 37", "Marc 7", "Job 3", "Romains 7"],
  ["Genèse 38", "Marc 8", "Job 4", "Romains 8"],
  ["Genèse 39", "Marc 9", "Job 5", "Romains 9"],
  ["Genèse 40", "Marc 10", "Job 6", "Romains 10"],
  ["Genèse 41", "Marc 11", "Job 7", "Romains 11"],
  ["Genèse 42", "Marc 12", "Job 8", "Romains 12"],
  ["Genèse 43", "Marc 13", "Job 9", "Romains 13"],
  ["Genèse 44", "Marc 14", "Job 10", "Romains 14"],
  ["Genèse 45", "Marc 15", "Job 11", "Romains 15"],
  ["Genèse 46", "Marc 16", "Job 12", "Romains 16"],
  ["Genèse 47", "Luc 1", "Job 13", "1 Corinthiens 1"],
  ["Genèse 48", "Luc 1", "Job 14", "1 Corinthiens 2"],
  ["Genèse 49", "Luc 2", "Job 15", "1 Corinthiens 3"],
  ["Genèse 50", "Luc 3", "Job 16-17", "1 Corinthiens 4"],
  ["Exode 1", "Luc 4", "Job 18", "1 Corinthiens 5"],
  ["Exode 2", "Luc 5", "Job 19", "1 Corinthiens 6"],
  ["Exode 3", "Luc 6", "Job 20", "1 Corinthiens 7"],
  ["Exode 4", "Luc 7", "Job 21", "1 Corinthiens 8"],
  ["Exode 5", "Luc 8", "Job 22", "1 Corinthiens 9"],
  ["Exode 6", "Luc 9", "Job 23", "1 Corinthiens 10"],
  ["Exode 7", "Luc 10", "Job 24", "1 Corinthiens 11"],
  ["Exode 8", "Luc 11", "Job 25-26", "1 Corinthiens 12"],
  ["Exode 9", "Luc 12", "Job 27", "1 Corinthiens 13"],
  ["Exode 10", "Luc 13", "Job 28", "1 Corinthiens 14"],
  ["Exode 11", "Luc 14", "Job 29", "1 Corinthiens 15"],
  ["Exode 12", "Luc 15", "Job 30", "1 Corinthiens 16"],
  ["Exode 13", "Luc 16", "Job 31", "2 Corinthiens 1"],
  ["Exode 14", "Luc 17", "Job 32", "2 Corinthiens 2"],
  ["Exode 15", "Luc 18", "Job 33", "2 Corinthiens 3"],
  ["Exode 16", "Luc 19", "Job 34", "2 Corinthiens 4"],
  ["Exode 17", "Luc 20", "Job 35", "2 Corinthiens 5"],
  ["Exode 18", "Luc 21", "Job 36", "2 Corinthiens 6"],
  ["Exode 19", "Luc 22", "Job 37", "2 Corinthiens 7"],
  ["Exode 20", "Luc 23", "Job 38", "2 Corinthiens 8"],
  ["Exode 21", "Luc 24", "Job 39", "2 Corinthiens 9"],
  ["Exode 22", "Jean 1", "Job 40", "2 Corinthiens 10"],
  ["Exode 23", "Jean 2", "Job 41", "2 Corinthiens 11"],
  ["Exode 24", "Jean 3", "Job 42", "2 Corinthiens 12"],
  ["Exode 25", "Jean 4", "Proverbes 1", "2 Corinthiens 13"],
  ["Exode 26", "Jean 5", "Proverbes 2", "Galates 1"],
  ["Exode 27", "Jean 6", "Proverbes 3", "Galates 2"],
  ["Exode 28", "Jean 7", "Proverbes 4", "Galates 3"],
  ["Exode 29", "Jean 8", "Proverbes 5", "Galates 4"],
  ["Exode 30", "Jean 9", "Proverbes 6", "Galates 5"],
  ["Exode 31", "Jean 10", "Proverbes 7", "Galates 6"],
  ["Exode 32", "Jean 11", "Proverbes 8", "Éphésiens 1"],
  ["Exode 33", "Jean 12", "Proverbes 9", "Éphésiens 2"],
  ["Exode 34", "Jean 13", "Proverbes 10", "Éphésiens 3"],
  ["Exode 35", "Jean 14", "Proverbes 11", "Éphésiens 4"],
  ["Exode 36", "Jean 15", "Proverbes 12", "Éphésiens 5"],
  ["Exode 37", "Jean 16", "Proverbes 13", "Éphésiens 6"],
  ["Exode 38", "Jean 17", "Proverbes 14", "Philippiens 1"],
  ["Exode 39", "Jean 18", "Proverbes 15", "Philippiens 2"],
  ["Exode 40", "Jean 19", "Proverbes 16", "Philippiens 3"],
  ["Lévitique 1", "Jean 20", "Proverbes 17", "Philippiens 4"],
  ["Lévitique 2-3", "Jean 21", "Proverbes 18", "Colossiens 1"],
  ["Lévitique 4", "Psaumes 1-2", "Proverbes 19", "Colossiens 2"],
  ["Lévitique 5", "Psaumes 3-4", "Proverbes 20", "Colossiens 3"],
  ["Lévitique 6", "Psaumes 5-6", "Proverbes 21", "Colossiens 4"],
  ["Lévitique 7", "Psaumes 7-8", "Proverbes 22", "1 Thessaloniciens 1"],
  ["Lévitique 8", "Psaumes 9", "Proverbes 23", "1 Thessaloniciens 2"],
  ["Lévitique 9", "Psaumes 10", "Proverbes 24", "1 Thessaloniciens 3"],
  ["Lévitique 10", "Psaumes 11-12", "Proverbes 25", "1 Thessaloniciens 4"],
  ["Lévitique 11-12", "Psaumes 13-14", "Proverbes 26", "1 Thessaloniciens 5"],
  ["Lévitique 13", "Psaumes 15-16", "Proverbes 27", "2 Thessaloniciens 1"],
  ["Lévitique 14", "Psaumes 17", "Proverbes 28", "2 Thessaloniciens 2"],
  ["Lévitique 15", "Psaumes 18", "Proverbes 29", "2 Thessaloniciens 3"],
  ["Lévitique 16", "Psaumes 19", "Proverbes 30", "1 Timothée 1"],
  ["Lévitique 17", "Psaumes 20-21", "Proverbes 31", "1 Timothée 2"],
  ["Lévitique 18", "Psaumes 22", "Ecclésiaste 1", "1 Timothée 3"],
  ["Lévitique 19", "Psaumes 23-24", "Ecclésiaste 2", "1 Timothée 4"],
  ["Lévitique 20", "Psaumes 25", "Ecclésiaste 3", "1 Timothée 5"],
  ["Lévitique 21", "Psaumes 26-27", "Ecclésiaste 4", "1 Timothée 6"],
  ["Lévitique 22", "Psaumes 28-29", "Ecclésiaste 5", "2 Timothée 1"],
  ["Lévitique 23", "Psaumes 30", "Ecclésiaste 6", "2 Timothée 2"],
  ["Lévitique 24", "Psaumes 31", "Ecclésiaste 7", "2 Timothée 3"],
  ["Lévitique 25", "Psaumes 32", "Ecclésiaste 8", "2 Timothée 4"],
  ["Lévitique 26", "Psaumes 33", "Ecclésiaste 9", "Tite 1"],
  ["Lévitique 27", "Psaumes 34", "Ecclésiaste 10", "Tite 2"],
  ["Nombres 1", "Psaumes 35", "Ecclésiaste 11", "Tite 3"],
  ["Nombres 2", "Psaumes 36", "Ecclésiaste 12", "Philémon 1"],
  ["Nombres 3", "Psaumes 37", "Cantique des cantiques 1", "Hébreux 1"],
  ["Nombres 4", "Psaumes 38", "Cantique des cantiques 2", "Hébreux 2"],
  ["Nombres 5", "Psaumes 39", "Cantique des cantiques 3", "Hébreux 3"],
  ["Nombres 6", "Psaumes 40-41", "Cantique des cantiques 4", "Hébreux 4"],
  ["Nombres 7", "Psaumes 42-43", "Cantique des cantiques 5", "Hébreux 5"],
  ["Nombres 8", "Psaumes 44", "Cantique des cantiques 6", "Hébreux 6"],
  ["Nombres 9", "Psaumes 45", "Cantique des cantiques 7", "Hébreux 7"],
  ["Nombres 10", "Psaumes 46-47", "Cantique des cantiques 8", "Hébreux 8"],
  ["Nombres 11", "Psaumes 48", "Ésaïe 1", "Hébreux 9"],
  ["Nombres 12-13", "Psaumes 49", "Ésaïe 2", "Hébreux 10"],
  ["Nombres 14", "Psaumes 50", "Ésaïe 3-4", "Hébreux 11"],
  ["Nombres 15", "Psaumes 51", "Ésaïe 5", "Hébreux 12"],
  ["Nombres 16", "Psaumes 52-54", "Ésaïe 6", "Hébreux 13"],
  ["Nombres 17-18", "Psaumes 55", "Ésaïe 7", "Jacques 1"],
  ["Nombres 19", "Psaumes 56-57", "Ésaïe 8", "Jacques 2"],
  ["Nombres 20", "Psaumes 58-59", "Ésaïe 9", "Jacques 3"],
  ["Nombres 21", "Psaumes 60-61", "Ésaïe 10", "Jacques 4"],
  ["Nombres 22", "Psaumes 62-63", "Ésaïe 11-12", "Jacques 5"],
  ["Nombres 23", "Psaumes 64-65", "Ésaïe 13", "1 Pierre 1"],
  ["Nombres 24", "Psaumes 66-67", "Ésaïe 14", "1 Pierre 2"],
  ["Nombres 25", "Psaumes 68", "Ésaïe 15", "1 Pierre 3"],
  ["Nombres 26", "Psaumes 69", "Ésaïe 16", "1 Pierre 4"],
  ["Nombres 27", "Psaumes 70-71", "Ésaïe 17-18", "1 Pierre 5"],
  ["Nombres 28", "Psaumes 72", "Ésaïe 19-20", "2 Pierre 1"],
  ["Nombres 29", "Psaumes 73", "Ésaïe 21", "2 Pierre 2"],
  ["Nombres 30", "Psaumes 74", "Ésaïe 22", "2 Pierre 3"],
  ["Nombres 31", "Psaumes 75-76", "Ésaïe 23", "1 Jean 1"],
  ["Nombres 32", "Psaumes 77", "Ésaïe 24", "1 Jean 2"],
  ["Nombres 33", "Psaumes 78", "Ésaïe 25", "1 Jean 3"],
  ["Nombres 34", "Psaumes 78", "Ésaïe 26", "1 Jean 4"],
  ["Nombres 35", "Psaumes 79", "Ésaïe 27", "1 Jean 5"],
  ["Nombres 36", "Psaumes 80", "Ésaïe 28", "2 Jean 1"],
  ["Deutéronome 1", "Psaumes 81-82", "Ésaïe 29", "3 Jean 1"],
  ["Deutéronome 2", "Psaumes 83-84", "Ésaïe 30", "Jude 1"],
  ["Deutéronome 3", "Psaumes 85", "Ésaïe 31", "Apocalypse 1"],
  ["Deutéronome 4", "Psaumes 86-87", "Ésaïe 32", "Apocalypse 2"],
  ["Deutéronome 5", "Psaumes 88", "Ésaïe 33", "Apocalypse 3"],
  ["Deutéronome 6", "Psaumes 89", "Ésaïe 34", "Apocalypse 4"],
  ["Deutéronome 7", "Psaumes 90", "Ésaïe 35", "Apocalypse 5"],
  ["Deutéronome 8", "Psaumes 91", "Ésaïe 36", "Apocalypse 6"],
  ["Deutéronome 9", "Psaumes 92-93", "Ésaïe 37", "Apocalypse 7"],
  ["Deutéronome 10", "Psaumes 94", "Ésaïe 38", "Apocalypse 8"],
  ["Deutéronome 11", "Psaumes 95-96", "Ésaïe 39", "Apocalypse 9"],
  ["Deutéronome 12", "Psaumes 97-98", "Ésaïe 40", "Apocalypse 10"],
  ["Deutéronome 13-14", "Psaumes 99-101", "Ésaïe 41", "Apocalypse 11"],
  ["Deutéronome 15", "Psaumes 102", "Ésaïe 42", "Apocalypse 12"],
  ["Deutéronome 16", "Psaumes 103", "Ésaïe 43", "Apocalypse 13"],
  ["Deutéronome 17", "Psaumes 104", "Ésaïe 44", "Apocalypse 14"],
  ["Deutéronome 18", "Psaumes 105", "Ésaïe 45", "Apocalypse 15"],
  ["Deutéronome 19", "Psaumes 106", "Ésaïe 46", "Apocalypse 16"],
  ["Deutéronome 20", "Psaumes 107", "Ésaïe 47", "Apocalypse 17"],
  ["Deutéronome 21", "Psaumes 108-109", "Ésaïe 48", "Apocalypse 18"],
  ["Deutéronome 22", "Psaumes 110-111", "Ésaïe 49", "Apocalypse 19"],
  ["Deutéronome 23", "Psaumes 112-113", "Ésaïe 50", "Apocalypse 20"],
  ["Deutéronome 24", "Psaumes 114-115", "Ésaïe 51", "Apocalypse 21"],
  ["Deutéronome 25", "Psaumes 116", "Ésaïe 52", "Apocalypse 22"],
  ["Deutéronome 26", "Psaumes 117-118", "Ésaïe 53", "Matthieu 1"],
  ["Deutéronome 27", "Psaumes 119", "Ésaïe 54", "Matthieu 2"],
  ["Deutéronome 28", "Psaumes 119", "Ésaïe 55", "Matthieu 3"],
  ["Deutéronome 29", "Psaumes 119", "Ésaïe 56", "Matthieu 4"],
  ["Deutéronome 30", "Psaumes 119", "Ésaïe 57", "Matthieu 5"],
  ["Deutéronome 31", "Psaumes 119", "Ésaïe 58", "Matthieu 6"],
  ["Deutéronome 32", "Psaumes 119", "Ésaïe 59", "Matthieu 7"],
  ["Deutéronome 33-34", "Psaumes 119", "Ésaïe 60", "Matthieu 8"],
  ["Josué 1", "Psaumes 120-122", "Ésaïe 61", "Matthieu 9"],
  ["Josué 2", "Psaumes 123-125", "Ésaïe 62", "Matthieu 10"],
  ["Josué 3", "Psaumes 126-128", "Ésaïe 63", "Matthieu 11"],
  ["Josué 4", "Psaumes 129-131", "Ésaïe 64", "Matthieu 12"],
  ["Josué 5", "Psaumes 132-134", "Ésaïe 65", "Matthieu 13"],
  ["Josué 6", "Psaumes 135-136", "Ésaïe 66", "Matthieu 14"],
  ["Josué 7", "Psaumes 137-138", "Jérémie 1", "Matthieu 15"],
  ["Josué 8", "Psaumes 139", "Jérémie 2", "Matthieu 16"],
  ["Josué 9", "Psaumes 140-141", "Jérémie 3", "Matthieu 17"],
  ["Josué 10", "Psaumes 142-143", "Jérémie 4", "Matthieu 18"],
  ["Josué 11", "Psaumes 144", "Jérémie 5", "Matthieu 19"],
  ["Josué 12-13", "Psaumes 145", "Jérémie 6", "Matthieu 20"],
  ["Josué 14-15", "Psaumes 146-147", "Jérémie 7", "Matthieu 21"],
  ["Josué 16-17", "Psaumes 148", "Jérémie 8", "Matthieu 22"],
  ["Josué 18-19", "Psaumes 149-150", "Jérémie 9", "Matthieu 23"],
  ["Josué 20-21", "Actes 1", "Jérémie 10", "Matthieu 24"],
  ["Josué 22", "Actes 2", "Jérémie 11", "Matthieu 25"],
  ["Josué 23", "Actes 3", "Jérémie 12", "Matthieu 26"],
  ["Josué 24", "Actes 4", "Jérémie 13", "Matthieu 27"],
  ["Juges 1", "Actes 5", "Jérémie 14", "Matthieu 28"],
  ["Juges 2", "Actes 6", "Jérémie 15", "Marc 1"],
  ["Juges 3", "Actes 7", "Jérémie 16", "Marc 2"],
  ["Juges 4", "Actes 8", "Jérémie 17", "Marc 3"],
  ["Juges 5", "Actes 9", "Jérémie 18", "Marc 4"],
  ["Juges 6", "Actes 10", "Jérémie 19", "Marc 5"],
  ["Juges 7", "Actes 11", "Jérémie 20", "Marc 6"],
  ["Juges 8", "Actes 12", "Jérémie 21", "Marc 7"],
  ["Juges 9", "Actes 13", "Jérémie 22", "Marc 8"],
  ["Juges 10", "Actes 14", "Jérémie 23", "Marc 9"],
  ["Juges 11", "Actes 15", "Jérémie 24", "Marc 10"],
  ["Juges 12", "Actes 16", "Jérémie 25", "Marc 11"],
  ["Juges 13", "Actes 17", "Jérémie 26", "Marc 12"],
  ["Juges 14", "Actes 18", "Jérémie 27", "Marc 13"],
  ["Juges 15", "Actes 19", "Jérémie 28", "Marc 14"],
  ["Juges 16", "Actes 20", "Jérémie 29", "Marc 15"],
  ["Juges 17", "Actes 21", "Jérémie 30-31", "Marc 16"],
  ["Juges 18", "Actes 22", "Jérémie 32", "Luc 1"],
  ["Juges 19", "Actes 23", "Jérémie 33", "Luc 2"],
  ["Juges 20", "Actes 24", "Jérémie 34", "Luc 3"],
  ["Juges 21", "Actes 25", "Jérémie 35", "Luc 4"],
  ["Ruth 1", "Actes 26", "Jérémie 36", "Luc 5"],
  ["Ruth 2", "Actes 27", "Jérémie 37", "Luc 6"],
  ["Ruth 3-4", "Actes 28", "Jérémie 38", "Luc 7"],
  ["1 Samuel 1", "Romains 1", "Jérémie 39", "Luc 8"],
  ["1 Samuel 2", "Romains 2", "Jérémie 40", "Luc 9"],
  ["1 Samuel 3", "Romains 3", "Jérémie 41", "Luc 10"],
  ["1 Samuel 4", "Romains 4", "Jérémie 42", "Luc 11"],
  ["1 Samuel 5-6", "Romains 5", "Jérémie 43", "Luc 12"],
  ["1 Samuel 7-8", "Romains 6", "Jérémie 44-45", "Luc 13"],
  ["1 Samuel 9", "Romains 7", "Jérémie 46", "Luc 14"],
  ["1 Samuel 10", "Romains 8", "Jérémie 47", "Luc 15"],
  ["1 Samuel 11", "Romains 9", "Jérémie 48", "Luc 16"],
  ["1 Samuel 12", "Romains 10", "Jérémie 49", "Luc 17"],
  ["1 Samuel 13", "Romains 11", "Jérémie 50", "Luc 18"],
  ["1 Samuel 14", "Romains 12", "Jérémie 51", "Luc 19"],
  ["1 Samuel 15", "Romains 13", "Jérémie 52", "Luc 20"],
  ["1 Samuel 16", "Romains 14", "Lamentations 1", "Luc 21"],
  ["1 Samuel 17", "Romains 15", "Lamentations 2", "Luc 22"],
  ["1 Samuel 18", "Romains 16", "Lamentations 3", "Luc 23"],
  ["1 Samuel 19", "1 Corinthiens 1", "Lamentations 4", "Luc 24"],
  ["1 Samuel 20", "1 Corinthiens 2", "Lamentations 5", "Jean 1"],
  ["1 Samuel 21-22", "1 Corinthiens 3", "Ézéchiel 1", "Jean 2"],
  ["1 Samuel 23", "1 Corinthiens 4", "Ézéchiel 2", "Jean 3"],
  ["1 Samuel 24", "1 Corinthiens 5", "Ézéchiel 3", "Jean 4"],
  ["1 Samuel 25", "1 Corinthiens 6", "Ézéchiel 4", "Jean 5"],
  ["1 Samuel 26", "1 Corinthiens 7", "Ézéchiel 5", "Jean 6"],
  ["1 Samuel 27", "1 Corinthiens 8", "Ézéchiel 6", "Jean 7"],
  ["1 Samuel 28", "1 Corinthiens 9", "Ézéchiel 7", "Jean 8"],
  ["1 Samuel 29-30", "1 Corinthiens 10", "Ézéchiel 8", "Jean 9"],
  ["1 Samuel 31", "1 Corinthiens 11", "Ézéchiel 9", "Jean 10"],
  ["2 Samuel 1", "1 Corinthiens 12", "Ézéchiel 10", "Jean 11"],
  ["2 Samuel 2", "1 Corinthiens 13", "Ézéchiel 11", "Jean 12"],
  ["2 Samuel 3", "1 Corinthiens 14", "Ézéchiel 12", "Jean 13"],
  ["2 Samuel 4-5", "1 Corinthiens 15", "Ézéchiel 13", "Jean 14"],
  ["2 Samuel 6", "1 Corinthiens 16", "Ézéchiel 14", "Jean 15"],
  ["2 Samuel 7", "2 Corinthiens 1", "Ézéchiel 15", "Jean 16"],
  ["2 Samuel 8-9", "2 Corinthiens 2", "Ézéchiel 16", "Jean 17"],
  ["2 Samuel 10", "2 Corinthiens 3", "Ézéchiel 17", "Jean 18"],
  ["2 Samuel 11", "2 Corinthiens 4", "Ézéchiel 18", "Jean 19"],
  ["2 Samuel 12", "2 Corinthiens 5", "Ézéchiel 19", "Jean 20"],
  ["2 Samuel 13", "2 Corinthiens 6", "Ézéchiel 20", "Jean 21"],
  ["2 Samuel 14", "2 Corinthiens 7", "Ézéchiel 21", "Psaumes 1-2"],
  ["2 Samuel 15", "2 Corinthiens 8", "Ézéchiel 22", "Psaumes 3-4"],
  ["2 Samuel 16", "2 Corinthiens 9", "Ézéchiel 23", "Psaumes 5-6"],
  ["2 Samuel 17", "2 Corinthiens 10", "Ézéchiel 24", "Psaumes 7-8"],
  ["2 Samuel 18", "2 Corinthiens 11", "Ézéchiel 25", "Psaumes 9"],
  ["2 Samuel 19", "2 Corinthiens 12", "Ézéchiel 26", "Psaumes 10"],
  ["2 Samuel 20", "2 Corinthiens 13", "Ézéchiel 27", "Psaumes 11-12"],
  ["2 Samuel 21", "Galates 1", "Ézéchiel 28", "Psaumes 13-14"],
  ["2 Samuel 22", "Galates 2", "Ézéchiel 29", "Psaumes 15-16"],
  ["2 Samuel 23", "Galates 3", "Ézéchiel 30", "Psaumes 17"],
  ["2 Samuel 24", "Galates 4", "Ézéchiel 31", "Psaumes 18"],
  ["1 Rois 1", "Galates 5", "Ézéchiel 32", "Psaumes 19"],
  ["1 Rois 2", "Galates 6", "Ézéchiel 33", "Psaumes 20-21"],
  ["1 Rois 3", "Éphésiens 1", "Ézéchiel 34", "Psaumes 22"],
  ["1 Rois 4-5", "Éphésiens 2", "Ézéchiel 35", "Psaumes 23-24"],
  ["1 Rois 6", "Éphésiens 3", "Ézéchiel 36", "Psaumes 25"],
  ["1 Rois 7", "Éphésiens 4", "Ézéchiel 37", "Psaumes 26-27"],
  ["1 Rois 8", "Éphésiens 5", "Ézéchiel 38", "Psaumes 28-29"],
  ["1 Rois 9", "Éphésiens 6", "Ézéchiel 39", "Psaumes 30"],
  ["1 Rois 10", "Philippiens 1", "Ézéchiel 40", "Psaumes 31"],
  ["1 Rois 11", "Philippiens 2", "Ézéchiel 41", "Psaumes 32"],
  ["1 Rois 12", "Philippiens 3", "Ézéchiel 42", "Psaumes 33"],
  ["1 Rois 13", "Philippiens 4", "Ézéchiel 43", "Psaumes 34"],
  ["1 Rois 14", "Colossiens 1", "Ézéchiel 44", "Psaumes 35"],
  ["1 Rois 15", "Colossiens 2", "Ézéchiel 45", "Psaumes 36"],
  ["1 Rois 16", "Colossiens 3", "Ézéchiel 46", "Psaumes 37"],
  ["1 Rois 17", "Colossiens 4", "Ézéchiel 47", "Psaumes 38"],
  ["1 Rois 18", "1 Thessaloniciens 1", "Ézéchiel 48", "Psaumes 39"],
  ["1 Rois 19", "1 Thessaloniciens 2", "Daniel 1", "Psaumes 40-41"],
  ["1 Rois 20", "1 Thessaloniciens 3", "Daniel 2", "Psaumes 42-43"],
  ["1 Rois 21", "1 Thessaloniciens 4", "Daniel 3", "Psaumes 44"],
  ["1 Rois 22", "1 Thessaloniciens 5", "Daniel 4", "Psaumes 45"],
  ["2 Rois 1", "2 Thessaloniciens 1", "Daniel 5", "Psaumes 46-47"],
  ["2 Rois 2", "2 Thessaloniciens 2", "Daniel 6", "Psaumes 48"],
  ["2 Rois 3", "2 Thessaloniciens 3", "Daniel 7", "Psaumes 49"],
  ["2 Rois 4", "1 Timothée 1", "Daniel 8", "Psaumes 50"],
  ["2 Rois 5", "1 Timothée 2", "Daniel 9", "Psaumes 51"],
  ["2 Rois 6", "1 Timothée 3", "Daniel 10", "Psaumes 52-54"],
  ["2 Rois 7", "1 Timothée 4", "Daniel 11", "Psaumes 55"],
  ["2 Rois 8", "1 Timothée 5", "Daniel 12", "Psaumes 56-57"],
  ["2 Rois 9", "1 Timothée 6", "Osée 1", "Psaumes 58-59"],
  ["2 Rois 10-11", "2 Timothée 1", "Osée 2", "Psaumes 60-61"],
  ["2 Rois 12", "2 Timothée 2", "Osée 3-4", "Psaumes 62-63"],
  ["2 Rois 13", "2 Timothée 3", "Osée 5-6", "Psaumes 64-65"],
  ["2 Rois 14", "2 Timothée 4", "Osée 7", "Psaumes 66-67"],
  ["2 Rois 15", "Tite 1", "Osée 8", "Psaumes 68"],
  ["2 Rois 16", "Tite 2", "Osée 9", "Psaumes 69"],
  ["2 Rois 17", "Tite 3", "Osée 10", "Psaumes 70-71"],
  ["2 Rois 18", "Philémon 1", "Osée 11", "Psaumes 72"],
  ["2 Rois 19", "Hébreux 1", "Osée 12", "Psaumes 73"],
  ["2 Rois 20", "Hébreux 2", "Osée 13", "Psaumes 74"],
  ["2 Rois 21", "Hébreux 3", "Osée 14", "Psaumes 75-76"],
  ["2 Rois 22", "Hébreux 4", "Joël 1", "Psaumes 77"],
  ["2 Rois 23", "Hébreux 5", "Joël 2", "Psaumes 78"],
  ["2 Rois 24", "Hébreux 6", "Joël 3", "Psaumes 79"],
  ["2 Rois 25", "Hébreux 7", "Amos 1", "Psaumes 80"],
  ["1 Chroniques 1-2", "Hébreux 8", "Amos 2", "Psaumes 81-82"],
  ["1 Chroniques 3-4", "Hébreux 9", "Amos 3", "Psaumes 83-84"],
  ["1 Chroniques 5-6", "Hébreux 10", "Amos 4", "Psaumes 85"],
  ["1 Chroniques 7-8", "Hébreux 11", "Amos 5", "Psaumes 86"],
  ["1 Chroniques 9-10", "Hébreux 12", "Amos 6", "Psaumes 87-88"],
  ["1 Chroniques 11-12", "Hébreux 13", "Amos 7", "Psaumes 89"],
  ["1 Chroniques 13-14", "Jacques 1", "Amos 8", "Psaumes 90"],
  ["1 Chroniques 15", "Jacques 2", "Amos 9", "Psaumes 91"],
  ["1 Chroniques 16", "Jacques 3", "Abdias 1", "Psaumes 92-93"],
  ["1 Chroniques 17", "Jacques 4", "Jonas 1", "Psaumes 94"],
  ["1 Chroniques 18", "Jacques 5", "Jonas 2", "Psaumes 95-96"],
  ["1 Chroniques 19-20", "1 Pierre 1", "Jonas 3", "Psaumes 97-98"],
  ["1 Chroniques 21", "1 Pierre 2", "Jonas 4", "Psaumes 99-101"],
  ["1 Chroniques 22", "1 Pierre 3", "Michée 1", "Psaumes 102"],
  ["1 Chroniques 23", "1 Pierre 4", "Michée 2", "Psaumes 103"],
  ["1 Chroniques 24-25", "1 Pierre 5", "Michée 3", "Psaumes 104"],
  ["1 Chroniques 26-27", "2 Pierre 1", "Michée 4", "Psaumes 105"],
  ["1 Chroniques 28", "2 Pierre 2", "Michée 5", "Psaumes 106"],
  ["1 Chroniques 29", "2 Pierre 3", "Michée 6", "Psaumes 107"],
  ["2 Chroniques 1", "1 Jean 1", "Michée 7", "Psaumes 108-109"],
  ["2 Chroniques 2", "1 Jean 2", "Nahum 1", "Psaumes 110-111"],
  ["2 Chroniques 3-4", "1 Jean 3", "Nahum 2", "Psaumes 112-113"],
  ["2 Chroniques 5", "1 Jean 4", "Nahum 3", "Psaumes 114-115"],
  ["2 Chroniques 6", "1 Jean 5", "Habacuc 1", "Psaumes 116"],
  ["2 Chroniques 7", "2 Jean 1", "Habacuc 2", "Psaumes 117-118"],
  ["2 Chroniques 8", "3 Jean 1", "Habacuc 3", "Psaumes 119"],
  ["2 Chroniques 9", "Jude 1", "Sophonie 1", "Psaumes 119"],
  ["2 Chroniques 10", "Apocalypse 1", "Sophonie 2", "Psaumes 119"],
  ["2 Chroniques 11-12", "Apocalypse 2", "Sophonie 3", "Psaumes 119"],
  ["2 Chroniques 13", "Apocalypse 3", "Aggée 1", "Psaumes 119"],
  ["2 Chroniques 14-15", "Apocalypse 4", "Aggée 2", "Psaumes 119"],
  ["2 Chroniques 16", "Apocalypse 5", "Zacharie 1", "Psaumes 119"],
  ["2 Chroniques 17", "Apocalypse 6", "Zacharie 2", "Psaumes 120-122"],
  ["2 Chroniques 18", "Apocalypse 7", "Zacharie 3", "Psaumes 123-125"],
  ["2 Chroniques 19-20", "Apocalypse 8", "Zacharie 4", "Psaumes 126-128"],
  ["2 Chroniques 21", "Apocalypse 9", "Zacharie 5", "Psaumes 129-131"],
  ["2 Chroniques 22-23", "Apocalypse 10", "Zacharie 6", "Psaumes 132-134"],
  ["2 Chroniques 24", "Apocalypse 11", "Zacharie 7", "Psaumes 135-136"],
  ["2 Chroniques 25", "Apocalypse 12", "Zacharie 8", "Psaumes 137-138"],
  ["2 Chroniques 26", "Apocalypse 13", "Zacharie 9", "Psaumes 139"],
  ["2 Chroniques 27-28", "Apocalypse 14", "Zacharie 10", "Psaumes 140-141"],
  ["2 Chroniques 29", "Apocalypse 15", "Zacharie 11", "Psaumes 142"],
  ["2 Chroniques 30", "Apocalypse 16", "Zacharie 12", "Psaumes 143"],
  ["2 Chroniques 31", "Apocalypse 17", "Zacharie 13", "Psaumes 144"],
  ["2 Chroniques 32", "Apocalypse 18", "Zacharie 14", "Psaumes 145"],
  ["2 Chroniques 33", "Apocalypse 19", "Malachie 1", "Psaumes 146-147"],
  ["2 Chroniques 34", "Apocalypse 20", "Malachie 2", "Psaumes 148"],
  ["2 Chroniques 35", "Apocalypse 21", "Malachie 3", "Psaumes 149"],
  ["2 Chroniques 36", "Apocalypse 22", "Malachie 4", "Psaumes 150"],
];

/// Génère les passages pour un jour donné du plan M'Cheyne
/// dayIndex: jour 0-based (0 = jour 1, correspond au 1er janvier)
List<Passage> generateMcheyneDayPassages(int dayIndex) {
  if (dayIndex < 0 || dayIndex >= _mcheyneRawData.length) {
    return [];
  }

  final dayData = _mcheyneRawData[dayIndex];
  final passages = <Passage>[];

  for (final ref in dayData) {
    final passage = _parseReference(ref);
    if (passage != null) {
      passages.add(passage);
    }
  }

  return passages;
}

/// Liste générée dynamiquement des 365 jours
List<McheyneDayDefinition>? _cachedDays;

List<McheyneDayDefinition> get mcheynePlanDays {
  if (_cachedDays != null) return _cachedDays!;

  _cachedDays = List.generate(
    _mcheyneRawData.length,
    (index) => McheyneDayDefinition(
      dayIndex: index,
      passages: generateMcheyneDayPassages(index),
    ),
  );

  return _cachedDays!;
}

/// Informations sur le plan M'Cheyne
Map<String, dynamic> getMcheynePlanInfo() {
  return {
    'name': "Plan M'Cheyne",
    'author': 'Robert Murray M\'Cheyne',
    'totalDays': 365,
    'passagesPerDay': 4,
    'description': 'Lire la Bible entière en 1 an, avec les Psaumes et le NT lus 2 fois',
  };
}
